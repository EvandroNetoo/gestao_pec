<c-modal title="{{ evento.titulo }}">

    <div class="space-y-3 mt-4">

        <div class="flex flex-wrap gap-2">
            <span class="badge 
                {% if evento.tipo == 'Peri√≥dico' %}badge-info{% endif %} 
                {% if evento.tipo == 'Espor√°dico' %}badge-error{% endif %}">{{ evento.tipo }}</span>
                <span class="badge badge-outline">Peso: {{ evento.peso_presenca }}</span>

                {% if evento.cancelado %}

                    <span class="badge badge-error badge-outline">Cancelado</span>

                {% endif %}

            </div>

            {% if evento.cancelado %}

                <div role="alert" class="alert alert-warning alert-sm mt-2">
                    ‚ö†Ô∏è Evento cancelado
                </div>

            {% endif %}

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                <div>
                    <span class="font-semibold">üìÖ Data:</span>
                    {{ evento.data_hora_inicio|date:"d/m/Y" }}
                </div>
                <div>
                    <span class="font-semibold">üïê Hor√°rio:</span>
                    {{ evento.data_hora_inicio|time:"H:i" }} ‚Äî {{ evento.data_hora_fim|time:"H:i" }}
                </div>
                <div>
                    <span class="font-semibold">üìç Local:</span>
                    {{ evento.get_local_definitivo }}
                </div>
                <div>
                    <span class="font-semibold">üè∑Ô∏è Oficinas:</span>

                    {% for oficina in evento.oficinas.all %}

                        <span class="badge badge-sm badge-ghost">{{ oficina.nome }}</span>
                    {% empty %}
                        <span class="text-base-content/50">‚Äî</span>

                    {% endfor %}

                </div>
            </div>

            {% if alocacoes %}

                <div class="divider">Alunos</div>

                <div class="overflow-x-auto">
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Aluno</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>

                            {% for alocacao in alocacoes %}

                                <tr>
                                    <td>{{ alocacao.aluno.nome }}</td>
                                    <td>
                                        <span class="badge badge-sm 
                                            {% if alocacao.status == 'Presente' %}badge-success{% endif %} 
                                            {% if alocacao.status == 'Previsto' %}badge-warning{% endif %}">{{ alocacao.status }}</span>
                                        </td>
                                    </tr>

                                {% endfor %}

                            </tbody>
                        </table>
                    </div>

                {% else %}


                    <p class="text-base-content/50 text-sm text-center py-2">
                        Nenhum aluno alocado.
                    </p>

                {% endif %}

                {% if not evento.cancelado %}

                    <div class="flex justify-end mt-2">
                        <a href="{% url 'evento_presenca' evento.pk %}"
                           class="btn btn-primary btn-sm">Registrar Presen√ßas</a>
                    </div>

                {% endif %}

            </div>

        </c-modal>
